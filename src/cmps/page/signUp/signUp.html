<form name="signupForm">
    <span>{{ error | translate }}</span>
    <div layout="column" class="login md-whiteframe-z1">
        <md-toolbar>
            <h2 class="md-toolbar-tools"><span>{{ "SIGNUP" | translate }}</span></h2>
        </md-toolbar>
        <md-content layout="column" class="md-padding">
            <div class="row">
                <div class="small-12 medium-6 large-6 columns">
                    <md-input-container  class="md-block" flex-gt-xs>
                        <label>{{ "WORD_FIRST_NAME" | translate }}</label>
                        <input type="text" data-ng-model="user.firstname" name="firstname" required/>
                        <div ng-messages="signupForm.firstname.$error" >
                            <div ng-message="required">{{ "FORM_REQUIRED" | translate }}</div>
                        </div>
                    </md-input-container>
                </div>
                <div class="small-12 medium-6 large-6 columns">
                    <md-input-container  class="md-block" flex-gt-xs>
                        <label>{{ "WORD_LAST_NAME" | translate }}</label>
                        <input type="text" data-ng-model="user.lastname" name="lastname" required/>
                        <div ng-messages="signupForm.lastname.$error" >
                            <div ng-message="required">{{ "FORM_REQUIRED" | translate }}</div>
                        </div>
                    </md-input-container>
                </div>
            </div>
            <div class="row">
                <div class="small-12 medium-12 large-6 columns">
                    <md-input-container  class="md-block" flex-gt-xs>
                        <label>{{ "WORD_EMAIL" | translate }}</label>
                        <input type="email" data-ng-model="user.email" id="email" name="email" ng-pattern="/^.+@.+\..+$/" required/>
                        <div ng-messages="signupForm.email.$error" multiple md-auto-hide="false">
                            <div ng-message="required">{{ "FORM_REQUIRED" | translate }}</div>
                            <div ng-message="pattern">{{ "FORM_EMAIL_ERROR" | translate }}</div>
                            <div ng-message="correctPassword">{{ "ERROR_WRONG_CREDENTIALS" | translate }}</div>
                            <div ng-message="allowed">{{ "ERROR_NOT_ALLOWED" | translate }}</div>
                            <div ng-message="tokenExpired">{{ "ERROR_TOKEN_EXPIRED" | translate }}</div>
                            <div ng-message="token">{{ "ERROR_TOKEN_INVALID" | translate }}</div>
                            <div ng-message="exists" data-translate="ERROR_EXISTS" data-translate-value-val="email"></div>
                        </div>
                    </md-input-container>
                </div>
                <div class="small-12 medium-6 large-3 columns">
                    <md-input-container  class="md-block" flex-gt-xs>
                        <label>{{ "WORD_BIRTHDAY" | translate }}</label>
                        <input type="date" data-ng-model="user.birthday" max="2100-12-31" min="1900-01-02">
                    </md-input-container>
                </div>
                <div class="small-12 medium-6 large-3 columns">
                    <md-input-container class="md-block" flex-gt-sm>
                        <label>{{ "WORD_GENDER" | translate }}</label>
                        <md-select ng-model="user.gender" name="gender" required>
                            <md-option value="male"> {{ "WORD_MALE" | translate }} </md-option>
                            <md-option value="female"> {{ "WORD_FEMALE" | translate }} </md-option>
                        </md-select>
                        <div ng-messages="signupForm.gender.$error" >
                            <div ng-message="required">{{ "FORM_REQUIRED" | translate }}</div>
                        </div>
                    </md-input-container>
                </div>
            </div>
            <div class="row">
                <div class="small-12 medium-6 large-6 columns">
                    <md-input-container  class="md-block" flex-gt-xs>
                        <label>{{ "WORD_PASSWORD" | translate }}</label>
                        <input type="password" name="password" data-ng-model="user.password" required/>
                        <div ng-messages="signupForm.password.$error" >
                            <div ng-message="required">{{ "FORM_REQUIRED" | translate }}</div>
                        </div>
                    </md-input-container>
                </div>
                <div class="small-12 medium-6 large-6 columns" >
                    <md-input-container  class="md-block" flex-gt-xs>
                        <label>{{ "PASSWORD_RETYPE" | translate }}</label>
                        <input type="password" match-password="password" name="confirmPassword" data-ng-model="user.passwordConfirm" required/>
                        <div ng-messages="signupForm.confirmPassword.$error" multiple  md-auto-hide="false">
                            <div ng-message="required">{{ "FORM_REQUIRED" | translate }}</div>
                            <div ng-message="passwordMatch">{{ "FORM_MATCH_PASSWORD" | translate }}</div>
                        </div>
                    </md-input-container>
                </div>
            </div>
            <div class="row">
                <div class="small-12 medium-12 large-6 columns">
                    <md-input-container  class="md-block" flex-gt-xs>
                        <label>{{ "WORD_ADDRESS" | translate }}</label>
                        <input type="text" data-ng-model="user.address" />
                    </md-input-container>
                </div>
                <div class="small-12 medium-6 large-3 columns">
                    <md-input-container  class="md-block" flex-gt-xs>
                        <label>{{ "WORD_CITY" | translate }}</label>
                        <input type="text" data-ng-model="user.city" name="city" required>
                        <div ng-messages="signupForm.city.$error" >
                            <div ng-message="required">{{ "FORM_REQUIRED" | translate }}</div>
                        </div>
                    </md-input-container>
                </div>
                <div class="small-12 medium-6 large-3 columns">
                    <md-input-container class="md-block" flex-gt-sm>
                        <label>{{ "WORD_COUNTRY" | translate }}</label>
                        <md-select ng-model="user.country_id" name="country" required>
                            <md-option ng-repeat="country in countries" value="{{country.id}}">
                                {{country.name}}
                            </md-option>
                        </md-select>
                        <div ng-messages="signupForm.country.$error">
                            <div ng-message="required">{{ "FORM_REQUIRED" | translate }}</div>
                        </div>
                    </md-input-container>
                </div>
            </div>
            <div class="row" ng-hide='token'>
                <div class="small-12 medium-6 large-6 columns">
                    <md-input-container class="md-block" flex-gt-sm>
                        <label>{{ "WORD_JOB" | translate }}</label>
                        <md-select ng-model="user.job_id" ng-required="{{hide}}">
                            <md-option ng-repeat="job in jobs" value="{{job.id}}" >
                                {{job.title}}
                            </md-option>
                        </md-select>
                    </md-input-container>
                </div>
                <div class="small-12 medium-6 large-6 columns">
                    <md-input-container class="md-block" flex-gt-sm>
                        <label>{{ "WORD_COMPANY" | translate }}</label>
                        <md-select ng-model="user.company_id" ng-required="{{hide}}">
                            <md-option ng-repeat="company in companies" value="{{company.id}}">
                                {{company.name}}
                            </md-option>
                        </md-select>
                    </md-input-container>
                </div>
            </div>
            <div class="row" ng-hide="token">
                <div class="small-12 medium-12 large-12 columns">
                    <md-input-container class="md-block">
                        <label>{{ "WORD_COMMENT" | translate }}</label>
                        <textarea ng-model="user.signup_comment" md-maxlength="300" name="comment" rows="5" md-select-on-focus ng-required="{{hide}}"></textarea>
                        <div ng-messages="signupForm.comment.$error" multiple md-auto-hide="false">
                            <div ng-message="md-maxlength" data-translate="FORM_MAX_LENGTH" data-translate-value-max="{{ 300 }}"></div>
                            <div ng-message="required">{{ "FORM_REQUIRED" | translate }}</div>
                        </div>
                    </md-input-container>
                </div>
            </div>
            <div layout="row" layout-align="center center" style="padding-top:20px;">
                <md-button class="md-raised md-primary" ng-disabled="signupForm.$invalid " data-ng-click="signup()">{{ "SIGNUP" | translate }}</md-button>
                <div flex="flex"></div>
               <md-button class="md-flat md-primary" data-ng-click="back()">{{ "WORD_BACK" | translate }}</md-button>
            </div>
        </md-content>
    </div>
</form>
